{"version":3,"file":"useAdmin-B5LEeg7r.js","sources":["../../src/hooks/useAdmin.ts"],"sourcesContent":["import { useAuthStore } from '../stores/authStore';\nimport { useNavigate } from 'react-router-dom';\nimport { useEffect } from 'react';\n\nexport const useAdmin = () => {\n  const { user, isAuthenticated } = useAuthStore();\n  const navigate = useNavigate();\n\n  const isAdmin = user?.role === 'admin' || user?.role === 'super_admin';\n  const isSuperAdmin = user?.role === 'super_admin';\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n\n    if (!isAdmin) {\n      navigate('/');\n      return;\n    }\n  }, [isAuthenticated, isAdmin, navigate]);\n\n  return {\n    isAdmin,\n    isSuperAdmin,\n    user,\n    isAuthenticated,\n  };\n};\n\nexport const useRequireAdmin = () => {\n  const { isAdmin, isAuthenticated } = useAdmin();\n  \n  if (!isAuthenticated || !isAdmin) {\n    throw new Error('Admin access required');\n  }\n  \n  return { isAdmin: true };\n};\n\nexport const useRequireSuperAdmin = () => {\n  const { isSuperAdmin, isAuthenticated } = useAdmin();\n  \n  if (!isAuthenticated || !isSuperAdmin) {\n    throw new Error('Super admin access required');\n  }\n  \n  return { isSuperAdmin: true };\n};"],"names":["useAdmin","user","isAuthenticated","useAuthStore","navigate","useNavigate","isAdmin","role","isSuperAdmin","useEffect"],"mappings":"+FAIO,MAAMA,EAAW,KACtB,MAAMC,KAAEA,EAAAC,gBAAMA,GAAoBC,IAC5BC,EAAWC,IAEXC,EAAyB,WAAf,MAAAL,OAAA,EAAAA,EAAMM,OAAmC,uBAAfN,WAAMM,MAC1CC,EAA8B,uBAAfP,WAAMM,MAc3B,OAZAE,EAAAA,UAAU,KACHP,EAKAI,GACHF,EAAS,KALTA,EAAS,WAQV,CAACF,EAAiBI,EAASF,IAEvB,CACLE,UACAE,eACAP,OACAC"}