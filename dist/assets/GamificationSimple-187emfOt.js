import{j as e,a4 as s,ae as a,m as t,Z as i,af as l}from"./ui-vendor-BwAhdcts.js";import{d as r,r as n}from"./router-vendor-xnFU-SGQ.js";import{u as d,e as c,C as x,a as o,B as m,b as h,c as j}from"./index-CImf8UwA.js";import"./react-vendor-DEQ385Nk.js";import"./supabase-vendor-Bj79fh9f.js";const g=()=>{const{user:g,isAuthenticated:p}=d(),{toast:u}=c(),v=r(),[N,b]=n.useState(!1);n.useEffect(()=>{if(!p)return u({title:"Login Required",description:"Silakan login untuk mengakses sistem gamifikasi",variant:"destructive"}),void v("/login")},[p,v,u]);return g?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(m,{variant:"ghost",size:"sm",onClick:()=>v("/dashboard"),children:[e.jsx(s,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(a,{className:"h-6 w-6 text-purple-600"}),"Sistem Gamifikasi (Test Mode)"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Selamat datang, ",g.name,"! Testing sistem gamifikasi baru."]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:["Level ",g.level||1]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[g.xp||0," XP"]})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 flex items-center justify-center text-white font-bold",children:(g.name||"U").charAt(0).toUpperCase()})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(x,{children:[e.jsx(h,{children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(t,{className:"h-5 w-5 text-yellow-500"}),"Status Pengguna"]})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g.xp||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total XP"})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:g.coins||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Koin"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.level||1}),e.jsx("div",{className:"text-sm text-gray-600",children:"Level"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:g.dailyStreak||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Streak"})]})]})]})})]}),e.jsxs(x,{children:[e.jsx(h,{children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-5 w-5 text-purple-500"}),"Test Actions"]})}),e.jsxs(o,{className:"space-y-3",children:[e.jsxs(m,{onClick:async()=>{b(!0);try{const{updateUserStats:e}=d.getState(),s=((null==g?void 0:g.xp)||0)+100,a=Math.floor(Math.sqrt(s/100))+1;e({xp:s,level:a,coins:((null==g?void 0:g.coins)||0)+50}),u({title:"XP Updated! üéâ",description:`+100 XP, +50 koin! Level ${a}`})}catch(e){u({title:"Error",description:"Gagal update XP",variant:"destructive"})}finally{b(!1)}},disabled:N,className:"w-full",size:"lg",children:[e.jsx(l,{className:"h-4 w-4 mr-2"}),N?"Loading...":"Test +100 XP & +50 Koin"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(m,{variant:"outline",onClick:()=>v("/tryout"),children:"üéØ Tryout"}),e.jsx(m,{variant:"outline",onClick:()=>v("/practice"),children:"üìö Practice"})]}),e.jsx(m,{variant:"secondary",className:"w-full",onClick:()=>{localStorage.clear(),window.location.reload()},children:"üîÑ Reset Data (Clear LocalStorage)"})]})]})]}),e.jsxs(x,{className:"mt-6",children:[e.jsx(h,{children:e.jsx(j,{children:"‚ÑπÔ∏è Informasi Testing"})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"‚úÖ Sistem Auth Baru:"})," Dengan retry mechanism dan better error handling"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"‚úÖ XP System:"})," Data XP tersimpan di localStorage dan auth store"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"‚úÖ Level Calculation:"})," Level = floor(sqrt(XP / 100)) + 1"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"üì° Backend Integration:"})," Siap untuk integrasi dengan API backend"]}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg",children:e.jsxs("p",{className:"text-yellow-800",children:[e.jsx("strong",{children:"üîß Next Steps:"}),e.jsx("br",{}),"1. Start backend server",e.jsx("br",{}),"2. Test API endpoints",e.jsx("br",{}),"3. Integrate with real quest system",e.jsx("br",{}),"4. Add real-time updates via socket.io"]})})]})})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 p-6",children:e.jsx("div",{className:"max-w-md mx-auto mt-20",children:e.jsx(x,{children:e.jsxs(o,{className:"p-6 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{children:"Memuat sistem gamifikasi..."})]})})})})};export{g as default};
//# sourceMappingURL=GamificationSimple-187emfOt.js.map
