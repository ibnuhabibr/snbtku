{"version":3,"file":"TryoutPackages-CqDjUlHW.js","sources":["../../src/services/tryoutApiService.ts","../../src/pages/TryoutPackages.tsx"],"sourcesContent":["import { authService } from './authService';\n\nconst API_BASE_URL = 'http://localhost:3001/api/v1';\n\ninterface TryoutPackage {\n  id: string;\n  title: string;\n  description: string;\n  packageType: string;\n  category: string;\n  difficultyLevel: string;\n  totalQuestions: number;\n  durationMinutes: number;\n  price: number;\n  isActive: boolean;\n  isPremium: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface Question {\n  id: string;\n  questionText: string;\n  questionImageUrl?: string;\n  explanation: string;\n  explanationImageUrl?: string;\n  subject: string;\n  subTopic: string;\n  difficultyLevel: string;\n  questionType: string;\n  options: Array<{ id: string; text: string; imageUrl?: string }>;\n  correctAnswer: string;\n  orderIndex: number;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface TryoutPackageWithQuestions extends TryoutPackage {\n  questions: Question[];\n}\n\nclass TryoutApiService {\n  private async makeRequest<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\n    const url = `${API_BASE_URL}${endpoint}`;\n    const authHeaders = authService.getAuthHeaders();\n    \n    const response = await fetch(url, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...authHeaders,\n        ...options.headers,\n      },\n      ...options,\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({ error: 'Network error' }));\n      throw new Error(errorData.error || `HTTP ${response.status}`);\n    }\n\n    return response.json();\n  }\n\n  async getTryoutPackages(): Promise<TryoutPackage[]> {\n    try {\n      const response = await this.makeRequest<{ packages: TryoutPackage[] }>('/tryouts/packages');\n      return response.packages;\n    } catch (error) {\n      console.error('Failed to fetch tryout packages:', error);\n      throw error;\n    }\n  }\n\n  async getTryoutPackageById(id: string): Promise<TryoutPackageWithQuestions> {\n    try {\n      const response = await this.makeRequest<{ package: TryoutPackageWithQuestions }>(`/tryouts/packages/${id}`);\n      return response.package;\n    } catch (error) {\n      console.error(`Failed to fetch tryout package ${id}:`, error);\n      throw error;\n    }\n  }\n\n  // Helper method to format duration\n  formatDuration(minutes: number): string {\n    const hours = Math.floor(minutes / 60);\n    const remainingMinutes = minutes % 60;\n    \n    if (hours > 0) {\n      return remainingMinutes > 0 \n        ? `${hours} jam ${remainingMinutes} menit`\n        : `${hours} jam`;\n    }\n    \n    return `${minutes} menit`;\n  }\n\n  // Helper method to format price\n  formatPrice(price: number): string {\n    if (price === 0) {\n      return 'Gratis';\n    }\n    \n    return new Intl.NumberFormat('id-ID', {\n      style: 'currency',\n      currency: 'IDR',\n      minimumFractionDigits: 0,\n    }).format(price);\n  }\n\n  // Helper method to get difficulty level in Indonesian\n  getDifficultyLabel(level: string): string {\n    const labels: Record<string, string> = {\n      'mudah': 'Mudah',\n      'sedang': 'Sedang',\n      'sulit': 'Sulit',\n      'campuran': 'Campuran'\n    };\n    \n    return labels[level] || level;\n  }\n\n  // Helper method to get subject label in Indonesian\n  getSubjectLabel(subject: string): string {\n    const labels: Record<string, string> = {\n      'matematika': 'Matematika',\n      'fisika': 'Fisika',\n      'kimia': 'Kimia',\n      'biologi': 'Biologi',\n      'bahasa_indonesia': 'Bahasa Indonesia',\n      'bahasa_inggris': 'Bahasa Inggris'\n    };\n    \n    return labels[subject] || subject;\n  }\n}\n\nexport const tryoutApiService = new TryoutApiService();\nexport default tryoutApiService;\nexport type { TryoutPackage, Question, TryoutPackageWithQuestions };","import { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Clock, BookOpen, Star } from \"lucide-react\";\nimport { tryoutApiService, TryoutPackage } from \"@/services/tryoutApiService\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst TryoutPackages = () => {\n  const [packages, setPackages] = useState<TryoutPackage[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const { toast } = useToast();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchPackages = async () => {\n      try {\n        const data = await tryoutApiService.getTryoutPackages();\n        setPackages(data);\n      } catch (error) {\n        console.error('Error fetching packages:', error);\n        toast({\n          title: \"Error\",\n          description: \"Gagal memuat paket tryout. Silakan coba lagi.\",\n          variant: \"destructive\",\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchPackages();\n  }, [toast]);\n\n  const handleStartTryout = (packageId: string) => {\n    navigate(`/tryout/${packageId}`);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"mt-4 text-muted-foreground\">Memuat paket tryout...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold mb-2\">Paket Tryout SNBT</h1>\n        <p className=\"text-muted-foreground\">\n          Pilih paket tryout yang sesuai dengan kebutuhan persiapan SNBT Anda\n        </p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {packages.map((pkg) => (\n          <Card key={pkg.id} className=\"hover:shadow-lg transition-shadow\">\n            <CardHeader>\n              <div className=\"flex justify-between items-start mb-2\">\n                <CardTitle className=\"text-xl\">{pkg.title}</CardTitle>\n                {pkg.isPremium && (\n                  <Badge variant=\"secondary\" className=\"bg-yellow-100 text-yellow-800\">\n                    <Star className=\"w-3 h-3 mr-1\" />\n                    Premium\n                  </Badge>\n                )}\n              </div>\n              <CardDescription className=\"text-sm\">\n                {pkg.description}\n              </CardDescription>\n            </CardHeader>\n            \n            <CardContent>\n              <div className=\"space-y-4\">\n                {/* Package Info */}\n                <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                  <div className=\"flex items-center text-muted-foreground\">\n                    <Clock className=\"w-4 h-4 mr-2\" />\n                    {tryoutApiService.formatDuration(pkg.durationMinutes)}\n                  </div>\n                  <div className=\"flex items-center text-muted-foreground\">\n                    <BookOpen className=\"w-4 h-4 mr-2\" />\n                    {pkg.totalQuestions} soal\n                  </div>\n                </div>\n\n                {/* Difficulty and Category */}\n                <div className=\"flex flex-wrap gap-2\">\n                  <Badge variant=\"outline\">\n                    {tryoutApiService.getDifficultyLabel(pkg.difficultyLevel)}\n                  </Badge>\n                  <Badge variant=\"outline\">\n                    {pkg.category}\n                  </Badge>\n                </div>\n\n                {/* Price */}\n                <div className=\"text-2xl font-bold text-primary\">\n                  {tryoutApiService.formatPrice(pkg.price)}\n                </div>\n\n                {/* Action Button */}\n                <Button \n                  className=\"w-full\" \n                  onClick={() => handleStartTryout(pkg.id)}\n                  disabled={!pkg.isActive}\n                >\n                  {pkg.isActive ? 'Mulai Tryout' : 'Tidak Tersedia'}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      {packages.length === 0 && (\n        <div className=\"text-center py-12\">\n          <BookOpen className=\"w-16 h-16 text-muted-foreground mx-auto mb-4\" />\n          <h3 className=\"text-lg font-semibold mb-2\">Belum Ada Paket Tryout</h3>\n          <p className=\"text-muted-foreground\">\n            Paket tryout akan segera tersedia. Silakan kembali lagi nanti.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TryoutPackages;"],"names":["tryoutApiService","makeRequest","endpoint","options","url","authHeaders","authService","getAuthHeaders","response","fetch","headers","ok","errorData","json","catch","error","Error","status","getTryoutPackages","this","packages","getTryoutPackageById","id","package","formatDuration","minutes","hours","Math","floor","remainingMinutes","formatPrice","price","Intl","NumberFormat","style","currency","minimumFractionDigits","format","getDifficultyLabel","level","mudah","sedang","sulit","campuran","getSubjectLabel","subject","matematika","fisika","kimia","biologi","bahasa_indonesia","bahasa_inggris","TryoutPackages","setPackages","useState","isLoading","setIsLoading","toast","useToast","navigate","useNavigate","useEffect","async","data","title","description","variant","fetchPackages","className","children","jsxs","jsx","map","pkg","Card","CardHeader","CardTitle","isPremium","Badge","Star","CardDescription","CardContent","Clock","durationMinutes","BookOpen","totalQuestions","difficultyLevel","category","Button","onClick","handleStartTryout","packageId","disabled","isActive","length"],"mappings":"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"}