{"version":3,"file":"GamificationSimple-187emfOt.js","sources":["../../src/pages/GamificationSimple.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { useAuthStore } from '@/stores/authStore';\r\nimport { Sparkles, ArrowLeft, Zap, Trophy, Gift } from 'lucide-react';\r\n\r\nconst GamificationSimple = () => {\r\n  const { user, isAuthenticated } = useAuthStore();\r\n  const { toast } = useToast();\r\n  const navigate = useNavigate();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Redirect if not authenticated\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      toast({\r\n        title: \"Login Required\",\r\n        description: \"Silakan login untuk mengakses sistem gamifikasi\",\r\n        variant: \"destructive\",\r\n      });\r\n      navigate('/login');\r\n      return;\r\n    }\r\n  }, [isAuthenticated, navigate, toast]);\r\n\r\n  // Test function untuk update XP\r\n  const testUpdateXP = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      // Simulate API call\r\n      const { updateUserStats } = useAuthStore.getState();\r\n      const currentXP = user?.xp || 0;\r\n      const newXP = currentXP + 100;\r\n      const newLevel = Math.floor(Math.sqrt(newXP / 100)) + 1;\r\n      \r\n      updateUserStats({\r\n        xp: newXP,\r\n        level: newLevel,\r\n        coins: (user?.coins || 0) + 50\r\n      });\r\n      \r\n      toast({\r\n        title: \"XP Updated! üéâ\",\r\n        description: `+100 XP, +50 koin! Level ${newLevel}`,\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Gagal update XP\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 p-6\">\r\n        <div className=\"max-w-md mx-auto mt-20\">\r\n          <Card>\r\n            <CardContent className=\"p-6 text-center\">\r\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4\"></div>\r\n              <p>Memuat sistem gamifikasi...</p>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <Button \r\n                variant=\"ghost\" \r\n                size=\"sm\"\r\n                onClick={() => navigate('/dashboard')}\r\n              >\r\n                <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                Dashboard\r\n              </Button>\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\r\n                  <Sparkles className=\"h-6 w-6 text-purple-600\" />\r\n                  Sistem Gamifikasi (Test Mode)\r\n                </h1>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Selamat datang, {user.name}! Testing sistem gamifikasi baru.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"text-right\">\r\n                <p className=\"text-sm font-medium\">Level {user.level || 1}</p>\r\n                <p className=\"text-xs text-gray-600\">{user.xp || 0} XP</p>\r\n              </div>\r\n              <div className=\"w-12 h-12 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 flex items-center justify-center text-white font-bold\">\r\n                {(user.name || 'U').charAt(0).toUpperCase()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          \r\n          {/* User Stats */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Trophy className=\"h-5 w-5 text-yellow-500\" />\r\n                Status Pengguna\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div className=\"text-center p-3 bg-blue-50 rounded-lg\">\r\n                    <div className=\"text-2xl font-bold text-blue-600\">{user.xp || 0}</div>\r\n                    <div className=\"text-sm text-gray-600\">Total XP</div>\r\n                  </div>\r\n                  <div className=\"text-center p-3 bg-yellow-50 rounded-lg\">\r\n                    <div className=\"text-2xl font-bold text-yellow-600\">{user.coins || 0}</div>\r\n                    <div className=\"text-sm text-gray-600\">Koin</div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div className=\"text-center p-3 bg-green-50 rounded-lg\">\r\n                    <div className=\"text-2xl font-bold text-green-600\">{user.level || 1}</div>\r\n                    <div className=\"text-sm text-gray-600\">Level</div>\r\n                  </div>\r\n                  <div className=\"text-center p-3 bg-red-50 rounded-lg\">\r\n                    <div className=\"text-2xl font-bold text-red-600\">{user.dailyStreak || 0}</div>\r\n                    <div className=\"text-sm text-gray-600\">Streak</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Test Actions */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Zap className=\"h-5 w-5 text-purple-500\" />\r\n                Test Actions\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-3\">\r\n              <Button \r\n                onClick={testUpdateXP}\r\n                disabled={isLoading}\r\n                className=\"w-full\"\r\n                size=\"lg\"\r\n              >\r\n                <Gift className=\"h-4 w-4 mr-2\" />\r\n                {isLoading ? 'Loading...' : 'Test +100 XP & +50 Koin'}\r\n              </Button>\r\n              \r\n              <div className=\"grid grid-cols-2 gap-2\">\r\n                <Button \r\n                  variant=\"outline\"\r\n                  onClick={() => navigate('/tryout')}\r\n                >\r\n                  üéØ Tryout\r\n                </Button>\r\n                <Button \r\n                  variant=\"outline\"\r\n                  onClick={() => navigate('/practice')}\r\n                >\r\n                  üìö Practice\r\n                </Button>\r\n              </div>\r\n              \r\n              <Button \r\n                variant=\"secondary\"\r\n                className=\"w-full\"\r\n                onClick={() => {\r\n                  localStorage.clear();\r\n                  window.location.reload();\r\n                }}\r\n              >\r\n                üîÑ Reset Data (Clear LocalStorage)\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Status Info */}\r\n        <Card className=\"mt-6\">\r\n          <CardHeader>\r\n            <CardTitle>‚ÑπÔ∏è Informasi Testing</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-2 text-sm\">\r\n              <p><strong>‚úÖ Sistem Auth Baru:</strong> Dengan retry mechanism dan better error handling</p>\r\n              <p><strong>‚úÖ XP System:</strong> Data XP tersimpan di localStorage dan auth store</p>\r\n              <p><strong>‚úÖ Level Calculation:</strong> Level = floor(sqrt(XP / 100)) + 1</p>\r\n              <p><strong>üì° Backend Integration:</strong> Siap untuk integrasi dengan API backend</p>\r\n              \r\n              <div className=\"mt-4 p-3 bg-yellow-50 rounded-lg\">\r\n                <p className=\"text-yellow-800\">\r\n                  <strong>üîß Next Steps:</strong><br />\r\n                  1. Start backend server<br />\r\n                  2. Test API endpoints<br />\r\n                  3. Integrate with real quest system<br />\r\n                  4. Add real-time updates via socket.io\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GamificationSimple;\r\n"],"names":["GamificationSimple","user","isAuthenticated","useAuthStore","toast","useToast","navigate","useNavigate","isLoading","setIsLoading","useState","useEffect","title","description","variant","jsxs","className","children","jsx","Button","size","onClick","ArrowLeft","Sparkles","name","level","xp","charAt","toUpperCase","Card","CardHeader","CardTitle","Trophy","CardContent","coins","dailyStreak","Zap","async","updateUserStats","getState","newXP","newLevel","Math","floor","sqrt","error","disabled","Gift","localStorage","clear","window","location","reload"],"mappings":"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"}