import{j as a}from"./ui-vendor-BwAhdcts.js";import{d as e,r as s,L as r}from"./router-vendor-xnFU-SGQ.js";import{u as i,a as t,A as l,b as n,F as m,c as d,d as o,e as c,f as u,g as x,o as j,s as h}from"./alert-XuYbZtix.js";import{e as p,u as f,C as k,b,c as v,f as g,a as y,B as N,x as w}from"./index-CImf8UwA.js";import{I as S}from"./input-B1kw1Jk2.js";import{r as E}from"./firebase-AqVzXiqq.js";import"./react-vendor-DEQ385Nk.js";import"./label-BTUyfD56.js";import"./supabase-vendor-Bj79fh9f.js";import"./firebase-vendor-D-geBFm3.js";const A=j({email:h().email({message:"Email tidak valid"})}),K=()=>{const j=e(),{toast:h}=p(),{isAuthenticated:K}=f(),[B,F]=s.useState(!1),[I,L]=s.useState(null),[M,P]=s.useState(!1);s.useEffect(()=>{K&&j("/dashboard")},[K,j]);const R=i({resolver:t(A),defaultValues:{email:""}});return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-accent/5 p-4",children:a.jsxs(k,{className:"w-full max-w-md shadow-lg",children:[a.jsxs(b,{className:"space-y-1",children:[a.jsx(v,{className:"text-2xl font-bold text-center",children:"Lupa Password"}),a.jsx(g,{className:"text-center",children:"Masukkan email Anda untuk menerima instruksi reset password"})]}),a.jsxs(y,{children:[I&&a.jsx(l,{variant:"destructive",className:"mb-4",children:a.jsx(n,{children:I})}),M&&a.jsx(l,{className:"mb-4 bg-green-50 text-green-800 border-green-200",children:a.jsx(n,{children:"Email reset password telah dikirim. Silakan periksa kotak masuk atau folder spam Anda."})}),a.jsx(m,{...R,children:a.jsxs("form",{onSubmit:R.handleSubmit(async a=>{F(!0),L(null),P(!1);try{await E(a.email),P(!0),h({title:"Email terkirim",description:"Silakan periksa email Anda untuk instruksi reset password"})}catch(e){"auth/user-not-found"===e.code?L("Email tidak terdaftar"):"auth/invalid-email"===e.code?L("Format email tidak valid"):"auth/too-many-requests"===e.code?L("Terlalu banyak permintaan. Silakan coba lagi nanti"):L("Terjadi kesalahan saat mengirim email reset. Silakan coba lagi")}finally{F(!1)}}),className:"space-y-4",children:[a.jsx(d,{control:R.control,name:"email",render:({field:e})=>a.jsxs(o,{children:[a.jsx(c,{children:"Email"}),a.jsx(u,{children:a.jsx(S,{placeholder:"nama@email.com",type:"email",disabled:B,...e})}),a.jsx(x,{})]})}),a.jsx(N,{type:"submit",className:"w-full",disabled:B,children:B?"Memproses...":"Kirim Instruksi Reset"})]})})]}),a.jsx(w,{children:a.jsxs("div",{className:"text-center text-sm w-full space-y-2",children:[a.jsx("div",{children:a.jsx(r,{to:"/login",className:"text-primary hover:underline",children:"Kembali ke halaman login"})}),a.jsxs("div",{children:["Belum punya akun?"," ",a.jsx(r,{to:"/register",className:"text-primary hover:underline",children:"Daftar sekarang"})]})]})})]})})};export{K as default};
//# sourceMappingURL=ForgotPassword-DYTM9HXl.js.map
