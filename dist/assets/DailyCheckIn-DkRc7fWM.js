import{j as e,B as s,N as a,Z as t,t as r,l as i,a6 as n,m as d,v as o,f as l,X as c,y as m,ae as p,w as x,x as g,af as h,e as u,_ as y,q as f}from"./ui-vendor-BwAhdcts.js";import{r as j}from"./router-vendor-xnFU-SGQ.js";import{B as w,C as v,a as N,b,c as k,e as P,u as S,q as R,f as B}from"./index-CImf8UwA.js";import{B as L}from"./badge-Def1q0WS.js";import{P as C}from"./progress-BW6-ksch.js";import{T,a as M,b as A,c as D}from"./tabs-2oAGv6oB.js";import{M as E,i as H,u as z,P as I,a as X,b as $,L as Q,m as W}from"./proxy-GZF3NXPi.js";class G extends j.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const e=s.offsetParent,a=H(e)&&e.offsetWidth||0,t=this.props.sizeRef.current;t.height=s.offsetHeight||0,t.width=s.offsetWidth||0,t.top=s.offsetTop,t.left=s.offsetLeft,t.right=a-t.width-t.left}return null}componentDidUpdate(){}render(){return this.props.children}}function O({children:s,isPresent:a,anchorX:t,root:r}){const i=j.useId(),n=j.useRef(null),d=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=j.useContext(E);return j.useInsertionEffect(()=>{const{width:e,height:s,top:l,left:c,right:m}=d.current;if(a||!n.current||!e||!s)return;const p="left"===t?`left: ${c}`:`right: ${m}`;n.current.dataset.motionPopId=i;const x=document.createElement("style");o&&(x.nonce=o);const g=r??document.head;return g.appendChild(x),x.sheet&&x.sheet.insertRule(`\n          [data-motion-pop-id="${i}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${s}px !important;\n            ${p}px !important;\n            top: ${l}px !important;\n          }\n        `),()=>{g.contains(x)&&g.removeChild(x)}},[a]),e.jsx(G,{isPresent:a,childRef:n,sizeRef:d,children:j.cloneElement(s,{ref:n})})}const q=({children:s,initial:a,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:n,mode:d,anchorX:o,root:l})=>{const c=z(F),m=j.useId();let p=!0,x=j.useMemo(()=>(p=!1,{id:m,initial:a,isPresent:t,custom:i,onExitComplete:e=>{c.set(e,!0);for(const s of c.values())if(!s)return;r&&r()},register:e=>(c.set(e,!1),()=>c.delete(e))}),[t,c,r]);return n&&p&&(x={...x}),j.useMemo(()=>{c.forEach((e,s)=>c.set(s,!1))},[t]),j.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),"popLayout"===d&&(s=e.jsx(O,{isPresent:t,anchorX:o,root:l,children:s})),e.jsx(I.Provider,{value:x,children:s})};function F(){return new Map}const K=e=>e.key||"";function U(e){const s=[];return j.Children.forEach(e,e=>{j.isValidElement(e)&&s.push(e)}),s}const J=({children:s,custom:a,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:n="sync",propagate:d=!1,anchorX:o="left",root:l})=>{const[c,m]=X(d),p=j.useMemo(()=>U(s),[s]),x=d&&!c?[]:p.map(K),g=j.useRef(!0),h=j.useRef(p),u=z(()=>new Map),[y,f]=j.useState(p),[w,v]=j.useState(p);$(()=>{g.current=!1,h.current=p;for(let e=0;e<w.length;e++){const s=K(w[e]);x.includes(s)?u.delete(s):!0!==u.get(s)&&u.set(s,!1)}},[w,x.length,x.join("-")]);const N=[];if(p!==y){let e=[...p];for(let s=0;s<w.length;s++){const a=w[s],t=K(a);x.includes(t)||(e.splice(s,0,a),N.push(a))}return"wait"===n&&N.length&&(e=N),v(U(e)),f(p),null}const{forceRender:b}=j.useContext(Q);return e.jsx(e.Fragment,{children:w.map(s=>{const y=K(s),f=!(d&&!c)&&(p===w||x.includes(y));return e.jsx(q,{isPresent:f,initial:!(g.current&&!t)&&void 0,custom:a,presenceAffectsLayout:i,mode:n,root:l,onExitComplete:f?void 0:()=>{if(!u.has(y))return;u.set(y,!0);let e=!0;u.forEach(s=>{s||(e=!1)}),e&&(null==b||b(),v(h.current),d&&(null==m||m()),r&&r())},anchorX:o,children:s},y)})})},V=({isOpen:x,onClose:g})=>{const[h,u]=j.useState("quests"),[y,f]=j.useState(!1),[b,k]=j.useState(""),[P,S]=j.useState({level:15,xp:3250,xpToNext:4e3,coins:1850,streak:12,totalQuestions:2847,correctAnswers:2203,studyTime:145,rank:156,badges:18}),[R]=j.useState([{id:"1",title:"Pagi yang Produktif",description:"Selesaikan 5 soal sebelum jam 10 pagi",type:"daily",progress:3,maxProgress:5,xpReward:100,coinReward:50,completed:!1,timeLeft:"4j 30m",icon:s,rarity:"common"},{id:"2",title:"Streak Master",description:"Pertahankan streak belajar selama 3 hari",type:"daily",progress:2,maxProgress:3,xpReward:200,coinReward:100,completed:!1,timeLeft:"8j 15m",icon:a,rarity:"rare"},{id:"3",title:"Quick Learner",description:"Jawab 10 soal dengan benar dalam 15 menit",type:"daily",progress:6,maxProgress:10,xpReward:150,coinReward:75,completed:!1,timeLeft:"6j 20m",icon:t,rarity:"common"},{id:"4",title:"Night Owl",description:"Belajar setelah jam 9 malam",type:"daily",progress:0,maxProgress:1,xpReward:120,coinReward:60,completed:!1,timeLeft:"12j 45m",icon:r,rarity:"common"},{id:"5",title:"Focus Mode",description:"Selesaikan 20 soal tanpa salah",type:"daily",progress:8,maxProgress:20,xpReward:300,coinReward:150,completed:!1,timeLeft:"5j 10m",icon:i,rarity:"rare"}]),[B]=j.useState([{id:"6",title:"Speed Demon",description:"Selesaikan 50 soal dalam waktu kurang dari 1 jam",type:"weekly",progress:25,maxProgress:50,xpReward:500,coinReward:250,completed:!1,timeLeft:"3h 45m",icon:t,rarity:"rare"},{id:"7",title:"Perfect Score",description:"Dapatkan skor 100% di try out",type:"weekly",progress:0,maxProgress:1,xpReward:1e3,coinReward:500,completed:!1,timeLeft:"2h 30m",icon:n,rarity:"legendary"},{id:"8",title:"Marathon Runner",description:"Selesaikan 100 soal dalam seminggu",type:"weekly",progress:45,maxProgress:100,xpReward:800,coinReward:400,completed:!1,timeLeft:"4d 12h",icon:d,rarity:"epic"},{id:"9",title:"Subject Master",description:"Raih skor 90%+ di 3 mata pelajaran berbeda",type:"weekly",progress:1,maxProgress:3,xpReward:600,coinReward:300,completed:!1,timeLeft:"5d 8h",icon:o,rarity:"rare"},{id:"10",title:"Consistency King",description:"Belajar setiap hari selama seminggu",type:"weekly",progress:4,maxProgress:7,xpReward:700,coinReward:350,completed:!1,timeLeft:"3d 16h",icon:a,rarity:"epic"},{id:"11",title:"Social Learner",description:"Bergabung dengan 5 study group",type:"weekly",progress:2,maxProgress:5,xpReward:400,coinReward:200,completed:!1,timeLeft:"6d 4h",icon:l,rarity:"uncommon"}]),[E]=j.useState([{id:"1",title:"First Steps",description:"Selesaikan 10 soal pertama",icon:"üéØ",rarity:"common",unlocked:!0,unlockedDate:"2024-01-15",progress:10,maxProgress:10,xpReward:50,category:"study"},{id:"2",title:"Week Warrior",description:"Belajar 7 hari berturut-turut",icon:"üî•",rarity:"uncommon",unlocked:!0,unlockedDate:"2024-01-22",progress:7,maxProgress:7,xpReward:200,category:"streak"},{id:"3",title:"Math Genius",description:"Skor 95%+ di Penalaran Matematika",icon:"üßÆ",rarity:"rare",unlocked:!0,unlockedDate:"2024-02-01",progress:1,maxProgress:1,xpReward:300,category:"score"},{id:"4",title:"Social Butterfly",description:"Bantu 50 teman dengan menjawab pertanyaan",icon:"ü¶ã",rarity:"epic",unlocked:!1,progress:23,maxProgress:50,xpReward:500,category:"social"},{id:"5",title:"Legend",description:"Mencapai level 50",icon:"üëë",rarity:"legendary",unlocked:!1,progress:15,maxProgress:50,xpReward:2e3,category:"special"},{id:"6",title:"Speed Runner",description:"Selesaikan 20 soal dalam 10 menit",icon:"üí®",rarity:"rare",unlocked:!1,progress:0,maxProgress:1,xpReward:400,category:"speed"},{id:"7",title:"Perfect Streak",description:"Jawab 50 soal berturut-turut dengan benar",icon:"‚≠ê",rarity:"epic",unlocked:!1,progress:12,maxProgress:50,xpReward:800,category:"accuracy"},{id:"8",title:"Night Scholar",description:"Belajar setelah jam 10 malam selama 10 hari",icon:"üåô",rarity:"uncommon",unlocked:!1,progress:3,maxProgress:10,xpReward:250,category:"dedication"},{id:"9",title:"Early Bird",description:"Belajar sebelum jam 7 pagi selama 7 hari",icon:"üåÖ",rarity:"uncommon",unlocked:!1,progress:1,maxProgress:7,xpReward:300,category:"dedication"},{id:"10",title:"Quiz Master",description:"Raih skor perfect di 10 quiz berbeda",icon:"üèÜ",rarity:"epic",unlocked:!1,progress:4,maxProgress:10,xpReward:1e3,category:"score"},{id:"11",title:"Comeback King",description:"Tingkatkan skor try out sebesar 50 poin",icon:"üìà",rarity:"rare",unlocked:!1,progress:0,maxProgress:1,xpReward:600,category:"improvement"},{id:"12",title:"Study Buddy",description:"Ajak 10 teman bergabung ke platform",icon:"üë•",rarity:"epic",unlocked:!1,progress:2,maxProgress:10,xpReward:1200,category:"social"},{id:"13",title:"Marathon Master",description:"Belajar selama 5 jam dalam sehari",icon:"‚è∞",rarity:"rare",unlocked:!1,progress:0,maxProgress:1,xpReward:500,category:"endurance"},{id:"14",title:"Subject Expert",description:"Raih skor 95%+ di semua mata pelajaran",icon:"üéì",rarity:"legendary",unlocked:!1,progress:2,maxProgress:5,xpReward:1500,category:"mastery"},{id:"15",title:"Consistency Champion",description:"Belajar 30 hari berturut-turut",icon:"üî•",rarity:"legendary",unlocked:!1,progress:12,maxProgress:30,xpReward:2500,category:"streak"},{id:"16",title:"Question Collector",description:"Selesaikan 1000 soal",icon:"üìö",rarity:"epic",unlocked:!1,progress:456,maxProgress:1e3,xpReward:1e3,category:"volume"},{id:"17",title:"Leaderboard King",description:"Masuk top 10 leaderboard selama 7 hari",icon:"üëë",rarity:"legendary",unlocked:!1,progress:0,maxProgress:7,xpReward:3e3,category:"competition"},{id:"18",title:"Helper Hero",description:"Bantu 100 teman dengan menjawab pertanyaan",icon:"ü¶∏‚Äç‚ôÇÔ∏è",rarity:"legendary",unlocked:!1,progress:23,maxProgress:100,xpReward:2e3,category:"social"}]),[H,z]=j.useState([{id:"1",name:"Spiderman Avatar",description:"Avatar Spiderman dengan kostum merah-biru ikonik",cost:800,type:"avatar",icon:"üï∑Ô∏è",rarity:"epic",owned:!1},{id:"2",name:"Batman Avatar",description:"Avatar Batman dengan jubah hitam legendaris",cost:850,type:"avatar",icon:"ü¶á",rarity:"epic",owned:!1},{id:"3",name:"Superman Avatar",description:"Avatar Superman dengan logo S di dada",cost:900,type:"avatar",icon:"ü¶∏‚Äç‚ôÇÔ∏è",rarity:"epic",owned:!1},{id:"4",name:"Iron Man Avatar",description:"Avatar Iron Man dengan armor teknologi tinggi",cost:950,type:"avatar",icon:"ü§ñ",rarity:"epic",owned:!1},{id:"5",name:"Wonder Woman Avatar",description:"Avatar Wonder Woman dengan tiara emas",cost:800,type:"avatar",icon:"üë∏",rarity:"epic",owned:!1},{id:"6",name:"Captain America Avatar",description:"Avatar Captain America dengan perisai vibranium",cost:850,type:"avatar",icon:"üõ°Ô∏è",rarity:"epic",owned:!1},{id:"7",name:"Thor Avatar",description:"Avatar Thor dengan palu Mjolnir",cost:1e3,type:"avatar",icon:"‚ö°",rarity:"legendary",owned:!1},{id:"8",name:"Hulk Avatar",description:"Avatar Hulk dengan kekuatan super",cost:900,type:"avatar",icon:"üíö",rarity:"epic",owned:!1},{id:"9",name:"Black Panther Avatar",description:"Avatar Black Panther dari Wakanda",cost:950,type:"avatar",icon:"üêæ",rarity:"epic",owned:!1},{id:"10",name:"Doctor Strange Avatar",description:"Avatar Doctor Strange dengan mantel levitasi",cost:1200,type:"avatar",icon:"üîÆ",rarity:"legendary",owned:!1},{id:"6",name:"XP Boost 2x",description:"Gandakan XP selama 1 jam",cost:200,type:"boost",icon:"‚ö°",rarity:"common",owned:!1},{id:"7",name:"XP Boost 3x",description:"Triple XP selama 30 menit",cost:400,type:"boost",icon:"üî•",rarity:"common",owned:!1},{id:"8",name:"Coin Magnet",description:"Dapatkan 50% lebih banyak coins selama 2 jam",cost:300,type:"boost",icon:"üß≤",rarity:"common",owned:!1},{id:"9",name:"Lucky Charm",description:"Peluang double reward 25% selama 1 hari",cost:600,type:"boost",icon:"üçÄ",rarity:"rare",owned:!1},{id:"10",name:"Time Freeze",description:"Hentikan timer selama try out (1x pakai)",cost:500,type:"boost",icon:"‚è∞",rarity:"rare",owned:!1},{id:"11",name:"Bronze Scholar",description:"Badge perunggu untuk pemula",cost:150,type:"badge",icon:"ü•â",rarity:"common",owned:!1},{id:"12",name:"Silver Scholar",description:"Badge perak untuk yang berdedikasi",cost:400,type:"badge",icon:"ü•à",rarity:"common",owned:!1},{id:"13",name:"Golden Scholar",description:"Badge emas untuk yang berprestasi",cost:1e3,type:"badge",icon:"ü•á",rarity:"epic",owned:!1},{id:"14",name:"Diamond Scholar",description:"Badge berlian untuk master SNBT",cost:2500,type:"badge",icon:"üíé",rarity:"legendary",owned:!1},{id:"15",name:"Speed Demon",description:"Badge untuk yang cepat menyelesaikan soal",cost:800,type:"badge",icon:"üí®",rarity:"rare",owned:!1},{id:"16",name:"Perfect Score",description:"Badge untuk yang mendapat nilai sempurna",cost:1200,type:"badge",icon:"‚≠ê",rarity:"epic",owned:!1},{id:"17",name:"Dark Theme Premium",description:"Tema gelap premium dengan efek khusus",cost:300,type:"theme",icon:"üåô",rarity:"common",owned:!1},{id:"18",name:"Ocean Theme",description:"Tema biru laut yang menenangkan",cost:350,type:"theme",icon:"üåä",rarity:"common",owned:!1},{id:"19",name:"Forest Theme",description:"Tema hijau hutan yang segar",cost:350,type:"theme",icon:"üå≤",rarity:"common",owned:!1},{id:"20",name:"Sunset Theme",description:"Tema sunset dengan gradasi indah",cost:500,type:"theme",icon:"üåÖ",rarity:"rare",owned:!1},{id:"21",name:"Galaxy Theme",description:"Tema galaksi dengan efek bintang",cost:800,type:"theme",icon:"üåå",rarity:"epic",owned:!1},{id:"22",name:"Legendary Crown",description:"Mahkota legendaris untuk top player",cost:2500,type:"special",icon:"üëë",rarity:"legendary",owned:!1,limited:!0,timeLeft:"2h 30m"},{id:"23",name:"Magic Wand",description:"Tongkat ajaib dengan efek sparkle",cost:1500,type:"special",icon:"ü™Ñ",rarity:"legendary",owned:!1},{id:"24",name:"Golden Wings",description:"Sayap emas untuk avatar",cost:1800,type:"special",icon:"ü™∂",rarity:"legendary",owned:!1},{id:"25",name:"Crystal Orb",description:"Bola kristal dengan efek cahaya",cost:1200,type:"special",icon:"üîÆ",rarity:"epic",owned:!1},{id:"26",name:"Phoenix Feather",description:"Bulu phoenix yang langka",cost:2200,type:"special",icon:"üî•",rarity:"legendary",owned:!1}]);return x?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-background rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Sistem Gamifikasi"}),e.jsx(w,{variant:"ghost",size:"sm",onClick:g,children:e.jsx(c,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(v,{className:"bg-gradient-to-r from-primary/10 to-purple-500/10",children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:P.level}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Level"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:P.coins}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Coins"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-500",children:P.streak}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Streak"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-500",children:P.badges}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Badges"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"XP Progress"}),e.jsxs("span",{children:[P.xp,"/",P.xpToNext]})]}),e.jsx(C,{value:P.xp/P.xpToNext*100,className:"h-2"})]})]})}),e.jsxs(T,{value:h,onValueChange:u,children:[e.jsxs(M,{className:"grid w-full grid-cols-3",children:[e.jsx(A,{value:"quests",children:"Quests"}),e.jsx(A,{value:"achievements",children:"Achievements"}),e.jsx(A,{value:"rewards",children:"Rewards"})]}),e.jsx(D,{value:"quests",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Daily Quests"}),R.map(s=>{const a=s.icon;return e.jsx(v,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(C,{value:s.progress/s.maxProgress*100,className:"h-2 w-32"}),e.jsxs("span",{className:"text-xs",children:[s.progress,"/",s.maxProgress]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-yellow-500",children:["+",s.coinReward," coins"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["+",s.xpReward," XP"]}),s.timeLeft&&e.jsx("div",{className:"text-xs text-red-500",children:s.timeLeft})]})]})},s.id)}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Weekly Quests"}),B.map(s=>{const a=s.icon;return e.jsx(v,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(C,{value:s.progress/s.maxProgress*100,className:"h-2 w-32"}),e.jsxs("span",{className:"text-xs",children:[s.progress,"/",s.maxProgress]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-yellow-500",children:["+",s.coinReward," coins"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["+",s.xpReward," XP"]}),s.timeLeft&&e.jsx("div",{className:"text-xs text-red-500",children:s.timeLeft})]})]})},s.id)})]})}),e.jsx(D,{value:"achievements",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:E.map(s=>e.jsx(v,{className:"p-4 "+(s.unlocked?"bg-green-50 border-green-200":""),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:s.icon}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.title,s.unlocked&&e.jsx(m,{className:"h-4 w-4 text-green-500"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),!s.unlocked&&e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(C,{value:s.progress/s.maxProgress*100,className:"h-2 w-32"}),e.jsxs("span",{className:"text-xs",children:[s.progress,"/",s.maxProgress]})]}),s.unlocked&&s.unlockedDate&&e.jsxs("p",{className:"text-xs text-green-600",children:["Unlocked: ",s.unlockedDate]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(L,{variant:"legendary"===s.rarity?"default":"secondary",children:s.rarity}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["+",s.xpReward," XP"]})]})]})},s.id))})}),e.jsx(D,{value:"rewards",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:H.map(s=>e.jsx(v,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:s.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(L,{variant:"legendary"===s.rarity?"default":"secondary",children:s.rarity}),s.limited&&e.jsx(L,{variant:"destructive",children:"Limited"})]}),s.timeLeft&&e.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["Expires in: ",s.timeLeft]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-yellow-500 mb-2",children:[s.cost," coins"]}),e.jsx(w,{size:"sm",disabled:s.owned||P.coins<s.cost,onClick:()=>(e=>{const s=H.find(s=>s.id===e);s&&P.coins>=s.cost&&!s.owned&&(S(e=>({...e,coins:e.coins-s.cost})),z(s=>s.map(s=>s.id===e?{...s,owned:!0}:s)),k(`Berhasil membeli ${s.name}!`),f(!0),setTimeout(()=>f(!1),3e3))})(s.id),children:s.owned?"Owned":"Buy"})]})]})},s.id))})})]}),e.jsx(J,{children:y&&e.jsx(W.div,{initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.8},className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:e.jsx(v,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-2xl",children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsx(p,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("p",{className:"font-bold",children:b})]})})})})]})]})}):null},Z=({className:o="",showHeader:c=!0,maxQuests:p=3})=>{const y=[...[{id:"1",title:"Latihan Harian",description:"Selesaikan 20 soal hari ini",type:"daily",progress:20,maxProgress:20,reward:{xp:100,coins:50},completed:!0,timeLeft:"8j 30m",icon:s,difficulty:"easy"},{id:"2",title:"Streak Master",description:"Pertahankan streak belajar 7 hari",type:"weekly",progress:7,maxProgress:7,reward:{xp:500,coins:200,items:["Badge Streak Master"]},completed:!0,timeLeft:"2h 15m",icon:a,difficulty:"medium"},{id:"3",title:"Try Out Champion",description:"Raih skor 85+ di try out",type:"special",progress:1,maxProgress:1,reward:{xp:1e3,coins:500,items:["Avatar Champion","Badge Elite"]},completed:!0,icon:d,difficulty:"hard"},{id:"4",title:"Social Learner",description:"Bergabung dengan 3 study group",type:"weekly",progress:1,maxProgress:3,reward:{xp:300,coins:150},completed:!1,timeLeft:"4h 45m",icon:l,difficulty:"medium"},{id:"5",title:"Speed Runner",description:"Selesaikan 50 soal dalam 1 jam",type:"daily",progress:0,maxProgress:50,reward:{xp:200,coins:100,items:["Badge Speed Runner"]},completed:!1,timeLeft:"12h 20m",icon:t,difficulty:"hard"},{id:"6",title:"Perfect Score",description:"Dapatkan nilai 100 di try out",type:"special",progress:0,maxProgress:1,reward:{xp:1500,coins:750,items:["Badge Perfect","Avatar Gold"]},completed:!1,timeLeft:"6d 12h",icon:r,difficulty:"hard"},{id:"7",title:"Early Bird",description:"Login sebelum jam 7 pagi selama 5 hari",type:"weekly",progress:2,maxProgress:5,reward:{xp:400,coins:200,items:["Badge Early Bird"]},completed:!1,timeLeft:"3d 8h",icon:x,difficulty:"medium"},{id:"8",title:"Knowledge Seeker",description:"Baca 10 materi pembelajaran",type:"daily",progress:3,maxProgress:10,reward:{xp:150,coins:75},completed:!1,timeLeft:"18h 45m",icon:s,difficulty:"easy"},{id:"9",title:"Consistency King",description:"Login selama 30 hari berturut-turut",type:"special",progress:15,maxProgress:30,reward:{xp:2e3,coins:1e3,items:["Crown Avatar","Badge Legendary"]},completed:!1,timeLeft:"15d",icon:n,difficulty:"hard"},{id:"10",title:"Quiz Master",description:"Jawab 100 soal dengan benar",type:"weekly",progress:45,maxProgress:100,reward:{xp:600,coins:300,items:["Badge Quiz Master"]},completed:!1,timeLeft:"5d 2h",icon:i,difficulty:"medium"},{id:"11",title:"Friend Collector",description:"Tambahkan 5 teman baru",type:"weekly",progress:1,maxProgress:5,reward:{xp:250,coins:125},completed:!1,timeLeft:"6d 14h",icon:l,difficulty:"easy"},{id:"12",title:"Night Owl",description:"Belajar setelah jam 10 malam selama 3 hari",type:"weekly",progress:0,maxProgress:3,reward:{xp:300,coins:150,items:["Badge Night Owl"]},completed:!1,timeLeft:"4d 6h",icon:x,difficulty:"medium"},{id:"13",title:"Improvement Tracker",description:"Tingkatkan skor try out sebesar 50 poin",type:"special",progress:25,maxProgress:50,reward:{xp:800,coins:400,items:["Badge Improver"]},completed:!1,timeLeft:"10d",icon:g,difficulty:"medium"},{id:"14",title:"Marathon Runner",description:"Belajar selama 3 jam tanpa henti",type:"daily",progress:1,maxProgress:3,reward:{xp:300,coins:150,items:["Badge Marathon"]},completed:!1,timeLeft:"20h 30m",icon:t,difficulty:"hard"},{id:"15",title:"Subject Master",description:"Selesaikan semua materi dalam 1 mata pelajaran",type:"special",progress:8,maxProgress:12,reward:{xp:1200,coins:600,items:["Badge Subject Master","Avatar Scholar"]},completed:!1,timeLeft:"7d",icon:s,difficulty:"hard"}]].sort((e,s)=>{if(e.completed&&!s.completed)return-1;if(!e.completed&&s.completed)return 1;if(e.completed&&s.completed)return 0;const a=e.progress/e.maxProgress*100;return s.progress/s.maxProgress*100-a}).slice(0,p),f=e=>{switch(e){case"daily":return"bg-blue-100 text-blue-700";case"weekly":return"bg-purple-100 text-purple-700";case"special":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},j=e=>{switch(e){case"easy":return"bg-green-100 text-green-700";case"medium":return"bg-orange-100 text-orange-700";case"hard":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}};return e.jsxs(v,{className:o,children:[c&&e.jsx(b,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-5 w-5 text-primary"}),"Quest Tracker"]})}),e.jsxs(N,{className:"space-y-4",children:[y.map(s=>{const a=s.icon,t=s.progress/s.maxProgress*100;return e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative p-3 sm:p-5 border rounded-xl transition-all duration-300 hover:shadow-md "+(s.completed?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 shadow-sm":"hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/50 border-border hover:border-blue-200"),children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-3 sm:mb-4 gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-xl shadow-sm flex-shrink-0 "+(s.completed?"bg-green-100 text-green-600 shadow-green-100":"bg-gradient-to-br from-primary/10 to-primary/20 text-primary shadow-primary/10"),children:e.jsx(a,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-semibold text-sm sm:text-base text-foreground",children:s.title}),e.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[e.jsx(L,{variant:"secondary",className:`${f(s.type)} text-xs px-2 py-0.5 sm:px-2.5 sm:py-1 font-medium rounded-full`,children:s.type}),e.jsx(L,{variant:"outline",className:`${j(s.difficulty)} text-xs px-2 py-0.5 sm:px-2.5 sm:py-1 font-medium rounded-full border-2`,children:s.difficulty})]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-2 sm:mb-3 leading-relaxed",children:s.description})]})]}),e.jsxs("div",{className:"flex flex-row sm:flex-col items-center sm:items-end justify-between sm:justify-start gap-2 sm:ml-4",children:[s.timeLeft&&!s.completed&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 sm:px-2.5 bg-orange-50 text-orange-600 rounded-full text-xs font-medium",children:[e.jsx(x,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:s.timeLeft}),e.jsx("span",{className:"sm:hidden",children:s.timeLeft.split(" ")[0]})]}),s.completed?e.jsxs(w,{size:"sm",className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200 px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm",onClick:()=>(async e=>{try{const s=await fetch(`/api/quests/${e}/claim`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});s.ok?(await s.json(),window.location.reload()):await s.json()}catch(s){}})(s.id),children:[e.jsx(h,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-1.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Claim Reward"}),e.jsx("span",{className:"sm:hidden",children:"Claim"})]}):e.jsx("div",{className:"flex items-center gap-1",children:100===t?e.jsx("div",{className:"p-1 bg-green-100 rounded-full",children:e.jsx(m,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500"})}):e.jsx("div",{className:"p-1 bg-gray-100 rounded-full",children:e.jsx(u,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground"})})})]})]}),e.jsxs("div",{className:"mb-3 sm:mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-foreground",children:"Progress"}),e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-primary",children:[s.progress,"/",s.maxProgress]})]}),e.jsx(C,{value:t,className:"h-2 sm:h-3 bg-gray-100 rounded-full overflow-hidden"}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[Math.round(t),"% completed"]})]}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-50/50 to-orange-50/50 rounded-lg p-2 sm:p-3 border border-yellow-100",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-foreground",children:"Rewards"}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 px-2 py-0.5 sm:px-2.5 sm:py-1 bg-yellow-100 text-yellow-700 rounded-full",children:[e.jsx(r,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5"}),e.jsxs("span",{className:"text-xs font-semibold",children:[s.reward.xp," XP"]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 px-2 py-0.5 sm:px-2.5 sm:py-1 bg-amber-100 text-amber-700 rounded-full",children:[e.jsx("div",{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 rounded-full bg-yellow-400 shadow-sm"}),e.jsx("span",{className:"text-xs font-semibold",children:s.reward.coins}),e.jsx("span",{className:"hidden sm:inline text-xs font-semibold",children:"coins"})]}),s.reward.items&&e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 px-2 py-0.5 sm:px-2.5 sm:py-1 bg-purple-100 text-purple-700 rounded-full",children:[e.jsx(h,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5"}),e.jsx("span",{className:"text-xs font-semibold",children:s.reward.items.length}),e.jsx("span",{className:"hidden sm:inline text-xs font-semibold",children:"item"})]})]})]})}),s.completed&&e.jsx("div",{className:"absolute top-2 left-2 sm:top-3 sm:left-3",children:e.jsxs("div",{className:"bg-green-500 text-white px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs font-medium shadow-md",children:[e.jsx("span",{className:"sm:hidden",children:"‚úì"}),e.jsx("span",{className:"hidden sm:inline",children:"‚úì Completed"})]})})]},s.id)}),0===y.length&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(i,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Tidak ada quest aktif saat ini"}),e.jsx("p",{className:"text-xs",children:"Quest baru akan tersedia setiap hari!"})]})]})]})},_=()=>{var s,t;const[r,i]=j.useState(null),[n,d]=j.useState(!1),[o,l]=j.useState(!1),{toast:c}=P(),{updateUserStats:m}=S();j.useEffect(()=>{p()},[]);const p=async()=>{try{d(!0);const e=await fetch("/api/rewards/daily-status",{headers:R()});if(e.ok){const s=await e.json();i(s)}}catch(e){}finally{d(!1)}};return n?e.jsxs(v,{children:[e.jsx(b,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"}),"Check-in Harian"]})}),e.jsx(N,{children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]}):r?e.jsxs(v,{children:[e.jsxs(b,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"}),"Check-in Harian"]}),e.jsx(B,{children:"Dapatkan hadiah setiap hari dengan check-in!"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Streak Saat Ini"})]}),e.jsxs(L,{variant:"secondary",className:"text-orange-600",children:[r.currentStreak," hari"]})]}),r.weeklyProgress&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Progress Mingguan"}),e.jsxs(L,{variant:"secondary",children:["Hari ",r.weeklyProgress.currentDay,"/7"]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:r.weeklyProgress.weeklyRewards.map(s=>{const a=s.day===r.weeklyProgress.currentDay,t=s.unlocked&&!s.claimed&&r.canClaim&&a;return e.jsxs("div",{className:"relative p-3 rounded-lg border-2 text-center transition-all "+(s.claimed?"bg-green-50 border-green-200":t?"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-300 shadow-md":s.unlocked?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200 opacity-60"),children:[e.jsxs("div",{className:"text-xs font-bold mb-1 "+(s.claimed?"text-green-600":t?"text-orange-600":s.unlocked?"text-blue-600":"text-gray-400"),children:["Hari ",s.day]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(f,{className:"h-3 w-3 text-yellow-500"}),e.jsx("span",{className:"text-xs font-medium",children:s.coins})]}),e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("span",{className:"text-blue-500 text-xs",children:"‚ö°"}),e.jsx("span",{className:"text-xs font-medium",children:s.xp})]})]}),s.claimed&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white rounded-full w-4 h-4 flex items-center justify-center",children:e.jsx("span",{className:"text-xs",children:"‚úì"})}),a&&!s.claimed&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-orange-500 text-white rounded-full w-4 h-4 flex items-center justify-center animate-pulse",children:e.jsx("span",{className:"text-xs",children:"!"})})]},s.day)})}),r.weeklyProgress.weeklyRewards.find(e=>e.day===r.weeklyProgress.currentDay)&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(h,{className:"h-4 w-4 text-purple-600"}),e.jsxs("span",{className:"text-sm font-medium text-purple-800",children:["Hadiah Hari Ini (Hari ",r.weeklyProgress.currentDay,")"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-4 w-4 text-yellow-600"}),e.jsxs("span",{children:[null==(s=r.weeklyProgress.weeklyRewards.find(e=>e.day===r.weeklyProgress.currentDay))?void 0:s.coins," koin"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-blue-600",children:"‚ö°"}),e.jsxs("span",{children:[null==(t=r.weeklyProgress.weeklyRewards.find(e=>e.day===r.weeklyProgress.currentDay))?void 0:t.xp," XP"]})]}),7===r.weeklyProgress.currentDay&&e.jsx(L,{variant:"outline",className:"text-xs bg-gradient-to-r from-yellow-100 to-orange-100",children:"üéâ Bonus Mingguan!"})]})]})]}),e.jsx(w,{onClick:async()=>{if(null==r?void 0:r.canClaim)try{l(!0);const e=await fetch("/api/rewards/daily-claim",{method:"POST",headers:{"Content-Type":"application/json",...R()}});if(e.ok){const s=await e.json();m({level:s.userStats.level,xp:s.userStats.xp,coins:s.userStats.coins,dailyStreak:s.userStats.dailyStreak}),c({title:"Check-in berhasil!",description:`${s.message} (+${s.reward.coins} koin, +${s.reward.xp} XP)`}),await p()}else{const s=await e.json();c({title:"Gagal check-in",description:s.message||"Terjadi kesalahan",variant:"destructive"})}}catch(e){c({title:"Gagal check-in",description:"Terjadi kesalahan jaringan",variant:"destructive"})}finally{l(!1)}},disabled:!r.canClaim||o,className:"w-full",size:"lg",children:o?"Mengklaim...":r.canClaim?"Check-in Sekarang":"Sudah Check-in Hari Ini"}),r.lastCheckIn&&e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Terakhir check-in: ",new Date(r.lastCheckIn).toLocaleDateString("id-ID")]})]})]}):null};export{J as A,_ as D,V as G,Z as Q};
//# sourceMappingURL=DailyCheckIn-DkRc7fWM.js.map
