{"version":3,"file":"Shop-CaCgpHQJ.js","sources":["../../src/pages/Shop.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { useToast } from '@/components/ui/use-toast';\nimport { \n  ShoppingBag, \n  Coins, \n  Star, \n  Crown, \n  Zap,\n  Sparkles,\n  Heart,\n  Trophy,\n  Shield,\n  Flame,\n  Target,\n  Award,\n  Gem,\n  Bolt,\n  Clock,\n  Rocket,\n  Diamond,\n  Sword\n} from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport Navigation from '@/components/Navigation';\nimport { useAuthStore } from '@/stores/authStore';\nimport { api } from '@/services/api';\n\nconst Shop = () => {\n  const { user, updateUserStats } = useAuthStore();\n  const { toast } = useToast();\n  const [shopItems, setShopItems] = useState<any[]>([]);\n  const [purchasedItems, setPurchasedItems] = useState<string[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [purchasing, setPurchasing] = useState<string | null>(null);\n  \n  const userCoins = user?.coins || 0;\n\n  // Fetch shop items and user inventory\n  useEffect(() => {\n    const fetchShopData = async () => {\n      try {\n        setLoading(true);\n        \n        // Try to fetch shop items from API\n        try {\n          const itemsResponse = await api.get('/shop/items');\n          setShopItems(itemsResponse.data.items || []);\n          \n          const inventoryResponse = await api.get('/shop/inventory');\n          setPurchasedItems(inventoryResponse.data.purchasedItems || []);\n        } catch (apiError) {\n          console.log('API not available, using mock shop data');\n          // Fallback to mock data\n          setShopItems(getMockShopItems());\n          setPurchasedItems([]);\n        }\n        \n      } catch (error) {\n        console.error('Error fetching shop data:', error);\n        // Fallback to mock data\n        setShopItems(getMockShopItems());\n        setPurchasedItems([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    if (user && shopItems.length === 0) {\n      fetchShopData();\n    }\n  }, [user, shopItems.length]);\n\n  const getMockShopItems = () => [\n    // Avatars - Premium (sinkronisasi dengan HappyAvatarSelector)\n    { \n      id: '50', \n      name: '🕷️ Spiderman', \n      category: 'avatar', \n      price: 800, \n      rarity: 'epic', \n      description: 'Avatar Spiderman dengan kostum merah-biru ikonik',\n      url: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Spiderman&mood=happy&eyes=happy&mouth=smile&skinColor=fdbcb4&hairColor=red&clothingColor=ff0000&accessoriesChance=100'\n    },\n    { \n      id: '51', \n      name: '🦇 Batman', \n      category: 'avatar', \n      price: 850, \n      rarity: 'epic', \n      description: 'Avatar Batman dengan jubah hitam legendaris',\n      url: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Batman&mood=happy&eyes=happy&mouth=smile&skinColor=fdbcb4&hairColor=black&clothingColor=000000&accessoriesChance=100'\n    },\n    { \n      id: '52', \n      name: '🦸‍♂️ Superman', \n      category: 'avatar', \n      price: 900, \n      rarity: 'epic', \n      description: 'Avatar Superman dengan logo S di dada',\n      url: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Superman&mood=happy&eyes=happy&mouth=smile&skinColor=fdbcb4&hairColor=black&clothingColor=0066cc&accessoriesChance=100'\n    },\n    { \n      id: '53', \n      name: '🤖 Iron Man', \n      category: 'avatar', \n      price: 950, \n      rarity: 'epic', \n      description: 'Avatar Iron Man dengan armor teknologi tinggi',\n      url: 'https://api.dicebear.com/7.x/avataaars/svg?seed=IronMan&mood=happy&eyes=happy&mouth=smile&skinColor=fdbcb4&hairColor=brown&clothingColor=cc0000&accessoriesChance=100'\n    },\n    { \n      id: '54', \n      name: '👸 Wonder Woman', \n      category: 'avatar', \n      price: 800, \n      rarity: 'epic', \n      description: 'Avatar Wonder Woman dengan tiara emas',\n      url: 'https://api.dicebear.com/7.x/avataaars/svg?seed=WonderWoman&mood=happy&eyes=happy&mouth=smile&skinColor=fdbcb4&hairColor=black&clothingColor=cc0000&accessoriesChance=100'\n    },\n    { \n      id: '55', \n      name: '🛡️ Captain America', \n      category: 'avatar', \n      price: 850, \n      rarity: 'epic', \n      description: 'Avatar Captain America dengan perisai vibranium',\n      url: 'https://api.dicebear.com/7.x/avataaars/svg?seed=CaptainAmerica&mood=happy&eyes=happy&mouth=smile&skinColor=fdbcb4&hairColor=blonde&clothingColor=0066cc&accessoriesChance=100'\n    },\n    { \n      id: '56', \n      name: '⚡ Thor', \n      category: 'avatar', \n      price: 1000, \n      rarity: 'legendary', \n      description: 'Avatar Thor dengan palu Mjolnir',\n      url: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Thor&mood=happy&eyes=happy&mouth=smile&skinColor=fdbcb4&hairColor=blonde&clothingColor=cc0000&accessoriesChance=100'\n    },\n    { \n      id: '57', \n      name: '💚 Hulk', \n      category: 'avatar', \n      price: 900, \n      rarity: 'epic', \n      description: 'Avatar Hulk dengan kekuatan super',\n      url: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Hulk&mood=happy&eyes=happy&mouth=smile&skinColor=00cc00&hairColor=black&clothingColor=663399&accessoriesChance=100'\n    },\n    { \n      id: '58', \n      name: '🐾 Black Panther', \n      category: 'avatar', \n      price: 950, \n      rarity: 'epic', \n      description: 'Avatar Black Panther dari Wakanda',\n      url: 'https://api.dicebear.com/7.x/avataaars/svg?seed=BlackPanther&mood=happy&eyes=happy&mouth=smile&skinColor=ae5d29&hairColor=black&clothingColor=000000&accessoriesChance=100'\n    },\n    { \n      id: '59', \n      name: '🔮 Doctor Strange', \n      category: 'avatar', \n      price: 1200, \n      rarity: 'legendary', \n      description: 'Avatar Doctor Strange dengan mantel levitasi',\n      url: 'https://api.dicebear.com/7.x/avataaars/svg?seed=DoctorStrange&mood=happy&eyes=happy&mouth=smile&skinColor=fdbcb4&hairColor=black&clothingColor=663399&accessoriesChance=100'\n    },\n    \n    // Power-ups\n    { id: '11', name: 'Double XP', category: 'powerup', price: 50, rarity: 'common', description: 'Gandakan XP selama 1 jam' },\n    { id: '12', name: 'Coin Booster', category: 'powerup', price: 75, rarity: 'common', description: 'Tambahan 50% koin selama 2 jam' },\n    { id: '13', name: 'Time Freeze', category: 'powerup', price: 100, rarity: 'rare', description: 'Bekukan waktu quiz selama 30 detik' },\n    { id: '14', name: 'Hint Master', category: 'powerup', price: 80, rarity: 'common', description: '3 hint gratis untuk quiz' },\n    { id: '15', name: 'Lucky Charm', category: 'powerup', price: 150, rarity: 'rare', description: 'Peluang jawaban benar +20%' },\n    { id: '16', name: 'Energy Drink', category: 'powerup', price: 60, rarity: 'common', description: 'Pulihkan semua energi' },\n    { id: '17', name: 'Mega Boost', category: 'powerup', price: 200, rarity: 'legendary', description: 'Triple XP dan koin selama 1 jam' },\n    { id: '18', name: 'Shield Protection', category: 'powerup', price: 120, rarity: 'rare', description: 'Lindungi streak dari 1 kesalahan' },\n    { id: '19', name: 'Speed Boost', category: 'powerup', price: 90, rarity: 'common', description: 'Kecepatan berpikir +30%' },\n    { id: '20', name: 'Focus Potion', category: 'powerup', price: 110, rarity: 'rare', description: 'Konsentrasi maksimal selama 2 jam' },\n    \n    // Badges\n    { id: '21', name: 'Badge Pemula', category: 'badge', price: 25, rarity: 'common', description: 'Badge untuk pemula yang bersemangat' },\n    { id: '22', name: 'Badge Matematika', category: 'badge', price: 150, rarity: 'rare', description: 'Badge master matematika' },\n    { id: '23', name: 'Badge Bahasa', category: 'badge', price: 150, rarity: 'rare', description: 'Badge ahli bahasa Indonesia' },\n    { id: '24', name: 'Badge Sains', category: 'badge', price: 150, rarity: 'rare', description: 'Badge ilmuwan muda' },\n    { id: '25', name: 'Badge Logika', category: 'badge', price: 200, rarity: 'rare', description: 'Badge master logika' },\n    { id: '26', name: 'Badge Champion', category: 'badge', price: 500, rarity: 'legendary', description: 'Badge juara sejati' },\n    { id: '27', name: 'Badge Genius', category: 'badge', price: 750, rarity: 'legendary', description: 'Badge untuk jenius' },\n    { id: '28', name: 'Badge Warrior', category: 'badge', price: 300, rarity: 'rare', description: 'Badge pejuang tangguh' },\n    { id: '29', name: 'Badge Scholar', category: 'badge', price: 400, rarity: 'rare', description: 'Badge cendekiawan' },\n    { id: '30', name: 'Badge Legend', category: 'badge', price: 1000, rarity: 'legendary', description: 'Badge legenda yang langka' }\n  ];\n  \n  // Group items by category with useMemo to prevent unnecessary re-renders\n  const groupedItems = useMemo(() => ({\n    avatars: shopItems.filter(item => item.category === 'avatar'),\n    powerups: shopItems.filter(item => item.category === 'powerup'),\n    badges: shopItems.filter(item => item.category === 'badge')\n  }), [shopItems]);\n\n  const getRarityColor = (rarity: string) => {\n    switch (rarity) {\n      case 'common': return 'bg-gray-100 text-gray-800 border-gray-200';\n      case 'rare': return 'bg-blue-100 text-blue-800 border-blue-200';\n      case 'legendary': return 'bg-purple-100 text-purple-800 border-purple-200';\n      default: return 'bg-gray-100 text-gray-800 border-gray-200';\n    }\n  };\n\n  const handlePurchase = async (itemId: string, price: number) => {\n    if (purchasing || userCoins < price || purchasedItems.includes(itemId)) {\n      return;\n    }\n    \n    if (userCoins < price) {\n      toast({\n        title: 'Koin Tidak Cukup',\n        description: `Anda membutuhkan ${price - userCoins} koin lagi untuk membeli item ini.`,\n        variant: 'destructive'\n      });\n      return;\n    }\n    \n    try {\n      setPurchasing(itemId);\n      \n      try {\n        const response = await api.post(`/shop/purchase/${itemId}`);\n        \n        if (response.data.success) {\n          // Update local state\n          setPurchasedItems(prev => [...prev, itemId]);\n          \n          // Update user coins in auth store\n          updateUserStats({\n            coins: response.data.newCoins\n          });\n          \n          toast({\n            title: 'Pembelian Berhasil!',\n            description: `Anda telah berhasil membeli ${response.data.item.name}`,\n          });\n        }\n      } catch (apiError) {\n        console.log('API not available, simulating purchase');\n        // Simulate purchase delay\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        \n        const item = shopItems.find(item => item.id === itemId);\n        \n        // Update local state\n        setPurchasedItems(prev => [...prev, itemId]);\n        \n        // Update user coins in auth store\n        updateUserStats({\n          coins: userCoins - price\n        });\n        \n        toast({\n          title: 'Pembelian Berhasil!',\n          description: `Anda telah berhasil membeli ${item?.name || 'item'}`,\n        });\n      }\n    } catch (error: any) {\n      console.error('Error purchasing item:', error);\n      toast({\n        title: 'Pembelian Gagal',\n        description: 'Gagal membeli item. Silakan coba lagi.',\n        variant: 'destructive'\n      });\n    } finally {\n      setPurchasing(null);\n    }\n  };\n\n  const getIconComponent = (iconName: string) => {\n    const iconMap: { [key: string]: any } = {\n      Zap, Shield, Clock, Bolt, Target, Heart, Rocket, Star, Gem, Crown,\n      Trophy, Sparkles, Flame, Award, Diamond, Sword\n    };\n    return iconMap[iconName] || Trophy;\n  };\n\n  const renderShopSection = (items: any[], type: string) => {\n    if (loading) {\n      return (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {[...Array(6)].map((_, index) => (\n            <Card key={index} className=\"h-full\">\n              <CardContent className=\"p-6\">\n                <div className=\"animate-pulse\">\n                  <div className=\"h-4 bg-gray-200 rounded mb-4\"></div>\n                  <div className=\"h-16 bg-gray-200 rounded mb-4\"></div>\n                  <div className=\"h-4 bg-gray-200 rounded mb-2\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded mb-4\"></div>\n                  <div className=\"flex justify-between items-center\">\n                    <div className=\"h-4 bg-gray-200 rounded w-16\"></div>\n                    <div className=\"h-8 bg-gray-200 rounded w-20\"></div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {items.map((item, index) => {\n          const isPurchased = purchasedItems.includes(item.id);\n          const canAfford = userCoins >= item.price;\n          const isPurchasing = purchasing === item.id;\n          \n          return (\n            <motion.div\n              key={item.id}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: index * 0.1 }}\n            >\n              <Card className={`h-full transition-all duration-300 hover:shadow-lg ${\n                isPurchased ? 'bg-green-50 border-green-200' : ''\n              }`}>\n                <CardContent className=\"p-6\">\n                  <div className=\"flex justify-between items-start mb-4\">\n                    <Badge className={getRarityColor(item.rarity)}>\n                      {item.rarity}\n                    </Badge>\n                    {isPurchased && (\n                      <Badge className=\"bg-green-100 text-green-800 border-green-200\">\n                        ✓ Owned\n                      </Badge>\n                    )}\n                  </div>\n                  \n                  <div className=\"text-center mb-4\">\n                    {type === 'avatars' && (\n                      <div className=\"text-4xl mb-2\">{item.image}</div>\n                    )}\n                    {(type === 'powerups' || type === 'badges') && (\n                      <div className=\"p-4 bg-gray-100 rounded-full w-fit mx-auto mb-2\">\n                        {React.createElement(getIconComponent(item.icon), {\n                          className: `h-8 w-8 ${type === 'powerups' ? 'text-blue-500' : 'text-yellow-500'}`\n                        })}\n                      </div>\n                    )}\n                  </div>\n                  \n                  <h3 className=\"text-lg font-semibold mb-2 text-center\">{item.name}</h3>\n                  <p className=\"text-muted-foreground text-sm text-center mb-4\">{item.description}</p>\n                  \n                  {item.duration && (\n                    <p className=\"text-xs text-center text-blue-600 mb-4\">Durasi: {item.duration}</p>\n                  )}\n                  \n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-1\">\n                      <Coins className=\"h-4 w-4 text-yellow-500\" />\n                      <span className=\"font-semibold text-yellow-600\">{item.price}</span>\n                    </div>\n                    \n                    <Button \n                      size=\"sm\"\n                      disabled={isPurchased || !canAfford || isPurchasing}\n                      onClick={() => handlePurchase(item.id, item.price)}\n                      className={isPurchased ? 'bg-green-500 hover:bg-green-600' : ''}\n                    >\n                      {isPurchasing ? 'Buying...' : isPurchased ? 'Owned' : canAfford ? 'Buy' : 'Not enough coins'}\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            </motion.div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 no-blink\">\n      <Navigation />\n      \n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <motion.div\n            initial={{ opacity: 0, y: -20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.3, ease: \"easeOut\" }}\n            className=\"flex items-center justify-center gap-3 mb-4 will-change-transform\"\n          >\n            <ShoppingBag className=\"h-8 w-8 text-blue-500\" />\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n              Toko Rewards\n            </h1>\n          </motion.div>\n          \n          <div className=\"flex items-center justify-center gap-2 mb-4\">\n            <Coins className=\"h-6 w-6 text-yellow-500\" />\n            <span className=\"text-2xl font-bold text-yellow-600\">{userCoins.toLocaleString()}</span>\n            <span className=\"text-muted-foreground\">Coins</span>\n          </div>\n          \n          <p className=\"text-muted-foreground max-w-2xl mx-auto\">\n            Tukarkan coins yang kamu kumpulkan dengan berbagai item menarik untuk mempersonalisasi pengalaman belajarmu!\n          </p>\n        </div>\n\n        {/* Shop Tabs */}\n        <Tabs defaultValue=\"avatars\" className=\"space-y-8\">\n          <TabsList className=\"grid w-full grid-cols-3 max-w-2xl mx-auto\">\n            <TabsTrigger value=\"avatars\" className=\"flex items-center gap-2\">\n              <span>😊</span> Avatars\n            </TabsTrigger>\n            <TabsTrigger value=\"powerups\" className=\"flex items-center gap-2\">\n              <Zap className=\"h-4 w-4\" /> Power-ups\n            </TabsTrigger>\n            <TabsTrigger value=\"badges\" className=\"flex items-center gap-2\">\n              <Trophy className=\"h-4 w-4\" /> Badges\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"avatars\" className=\"space-y-6\">\n            <div className=\"text-center mb-6\">\n              <h2 className=\"text-2xl font-semibold mb-2\">Avatar Collection</h2>\n              <p className=\"text-muted-foreground\">Pilih avatar yang mencerminkan kepribadianmu</p>\n            </div>\n            {renderShopSection(groupedItems.avatars, 'avatars')}\n          </TabsContent>\n\n          <TabsContent value=\"powerups\" className=\"space-y-6\">\n            <div className=\"text-center mb-6\">\n              <h2 className=\"text-2xl font-semibold mb-2\">Power-ups</h2>\n              <p className=\"text-muted-foreground\">Tingkatkan performa belajarmu dengan power-ups</p>\n            </div>\n            {renderShopSection(groupedItems.powerups, 'powerups')}\n          </TabsContent>\n\n          <TabsContent value=\"badges\" className=\"space-y-6\">\n            <div className=\"text-center mb-6\">\n              <h2 className=\"text-2xl font-semibold mb-2\">Achievement Badges</h2>\n              <p className=\"text-muted-foreground\">Koleksi badge untuk menunjukkan pencapaianmu</p>\n            </div>\n            {renderShopSection(groupedItems.badges, 'badges')}\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n};\n\nexport default Shop;"],"names":["Shop","user","updateUserStats","useAuthStore","toast","useToast","shopItems","setShopItems","useState","purchasedItems","setPurchasedItems","loading","setLoading","purchasing","setPurchasing","userCoins","coins","useEffect","length","async","itemsResponse","api","get","data","items","inventoryResponse","apiError","getMockShopItems","error","fetchShopData","id","name","category","price","rarity","description","url","groupedItems","useMemo","avatars","filter","item","powerups","badges","getRarityColor","renderShopSection","type","jsx","className","children","Array","map","_","index","Card","CardContent","jsxs","isPurchased","includes","canAfford","isPurchasing","motion","div","initial","opacity","y","animate","transition","delay","Badge","image","React","createElement","iconName","icon","Zap","Shield","Clock","Bolt","Target","Heart","Rocket","Star","Gem","Crown","Trophy","Sparkles","Flame","Award","Diamond","Sword","duration","Coins","Button","size","disabled","onClick","itemId","title","variant","response","post","success","prev","newCoins","Promise","resolve","setTimeout","find","handlePurchase","Navigation","ease","ShoppingBag","toLocaleString","Tabs","defaultValue","TabsList","TabsTrigger","value","TabsContent"],"mappings":"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"}